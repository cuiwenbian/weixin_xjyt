(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["my/withdrawal/withdrawal"],{"74ae":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("45e3"),s=function(){n.e("components/keyboard-package/keyboard-package").then(function(){return resolve(n("98a8"))}.bind(null,n)).catch(n.oe)},a=function(){n.e("components/password-input/password-input").then(function(){return resolve(n("e220"))}.bind(null,n)).catch(n.oe)},r={data:function(){return{bar:"0.00",moder:"",fee:"",password:"",numberList:[],length:6,type:"number",passIn:!1,fil_num:"",wallet_value:"",isFoucs:!1}},components:{keyboardPackage:s,passwordInput:a},onLoad:function(e){this.bar=e.bar,this.fee=e.fee,this.wallet_value=e.wallet_value},onBackPress:function(e){plus.key.hideSoftKeybord()},methods:{check_record:function(){e.navigateTo({url:"../withdrawal_record/withdrawal_record"})},getFilNum:function(e){this.fil_num=e.detail.value},getTranferAdd:function(e){this.wallet_value=e.detail.value},linkToTransfer:(0,o.debounce)((function(){var t=this;e.request({url:this.url+"walletaddresss/",method:"GET",header:{Authorization:"JWT "+e.getStorageSync("token")},success:function(n){400==n.statusCode&&e.showToast({title:"用户未实名认证",icon:"none",duration:2e3}),201==n.statusCode&&e.showToast({title:"身份认证审核中，请等待",icon:"none",duration:2e3}),200==n.statusCode&&e.redirectTo({url:"../choose-address/choose-address?bar="+t.bar+"&fee="+t.fee}),302==n.statusCode&&e.showToast({title:"用户未设置交易密码",icon:"none",duration:2e3})}})}),500,!0),link:function(){this.linkToTransfer()},fusre:function(){this.fil_num=this.bar},clo:function(){this.passIn=!1,this.$refs["number"].close(),this.numberList.length=0},onChange:function(e){0==e.show&&(this.passIn=!1),this.numberList.length=0},onDelete:function(){this.numberList.pop()},onConfirm:function(){6!=this.numberList.length&&e.showToast({title:"请输入六位交易密码！",duration:2e3,icon:"none"})},onInput:function(t){console.log(t);var n=this;n.numberList.push(t),n.password=n.numberList.join().replace(/,/g,""),console.log(n.password),n.numberList.length>=n.length&&(e.request({url:n.url+"assets/capitalcode/",method:"POST",data:{capital_code:n.password},header:{Authorization:"JWT "+e.getStorageSync("token")},success:function(t){if(console.log(t),400==t.statusCode){n.numberList.pop(),n.numberList.length=0,n.$refs.wrong.flag=!1;var o=t.data.data.err_num,s=5-o;n.$refs.wrong.tip="密码错误,剩余"+s+"次机会"}423==t.statusCode&&(n.passIn=!1,n.$refs["number"].close(),e.showToast({title:"交易密码已锁定,请在今日24:00后进行交易",icon:"none",duration:2e3})),201==t.statusCode&&(n.passIn=!1,n.$refs["number"].close(),e.redirectTo({url:"../withdrawal_success/withdrawal_success"}));var a=getCurrentPages().pop();void 0!=a&&null!=a&&a.onLoad()}}),this.numberList.length=0)},save:function(){var t=this,n=parseFloat(t.bar),o=parseFloat(t.fil_num);return""==t.wallet_value?(e.showToast({title:"转账地址不能为空",icon:"none",duration:2e3}),!1):""==t.fil_num?(e.showToast({title:"提币数量不能为空",icon:"none",duration:2e3}),!1):t.fil_num<.001?(e.showToast({title:"提币数量无效",icon:"none",duration:2e3}),!1):t.fil_num<=10?(e.showToast({title:"最少提现数量为10",icon:"none",duration:2e3}),!1):o>n?(e.showToast({title:"提币数量余额不足",icon:"none",duration:2e3}),!1):(console.log(t.fil_num),console.log(t.wallet_value),void e.request({url:t.url+"assets/transfer/",method:"POST",data:{fil_num:t.fil_num,address:t.wallet_value},header:{Authorization:"JWT "+e.getStorageSync("token")},success:function(n){return 411==n.statusCode?(e.showToast({title:"未进行实名认证",icon:"none",duration:2e3}),!1):412==n.statusCode?(e.showToast({title:"实名认证中，请耐心等待",icon:"none",duration:2e3}),!1):403==n.statusCode?(e.showToast({title:"交易密码未设置",icon:"none",duration:2e3}),!1):400==n.statusCode?(e.showToast({title:"输入信息有误(提币地址最少32位)",icon:"none",duration:2e3}),!1):423==n.statusCode?(e.showToast({title:"交易密码已锁定,请在今日24:00后进行交易",icon:"none",duration:2e3}),!1):void(200==n.statusCode&&(t.passIn=!0,t.$refs["number"].open(),t.onInput(val)))}}))}}};t.default=r}).call(this,n("543d")["default"])},"7eb2":function(e,t,n){"use strict";n.r(t);var o=n("74ae"),s=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=s.a},9354:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var o={passwordInput:function(){return n.e("components/password-input/password-input").then(n.bind(null,"e220"))},keyboardPackage:function(){return n.e("components/keyboard-package/keyboard-package").then(n.bind(null,"98a8"))}},s=function(){var e=this,t=e.$createElement;e._self._c},a=[]},"9c2f":function(e,t,n){"use strict";n.r(t);var o=n("9354"),s=n("7eb2");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("cb27");var r,u=n("f0c5"),i=Object(u["a"])(s["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);t["default"]=i.exports},c2a9:function(e,t,n){},cb27:function(e,t,n){"use strict";var o=n("c2a9"),s=n.n(o);s.a},f07e:function(e,t,n){"use strict";(function(e){n("5471");o(n("66fd"));var t=o(n("9c2f"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])}},[["f07e","common/runtime","common/vendor"]]]);