(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["my/sign/index"],{"0b3a":function(n,e,t){"use strict";t.r(e);var a=t("1f35"),c=t("afb9");for(var o in c)"default"!==o&&function(n){t.d(e,n,(function(){return c[n]}))}(o);t("9622");var i,u=t("f0c5"),r=Object(u["a"])(c["default"],a["b"],a["c"],!1,null,"b9c1305a",null,!1,a["a"],i);e["default"]=r.exports},"1f35":function(n,e,t){"use strict";var a;t.d(e,"b",(function(){return c})),t.d(e,"c",(function(){return o})),t.d(e,"a",(function(){return a}));var c=function(){var n=this,e=n.$createElement;n._self._c},o=[]},"79ad":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t("45e3"),c=null,o=[],i={data:function(){return{machine_acceptance:"",sha:"",verify:""}},onLoad:function(e){this.machine_acceptance=e.machine_acceptance,c=n.createCanvasContext("sign"),c.setStrokeStyle("red"),c.setLineWidth(3),c.setLineCap("round"),c.setLineJoin("round")},methods:{cancels:function(){n.navigateBack({delta:1})},start:function(n){var e={x:n.changedTouches[0].x,y:n.changedTouches[0].y};o.push(e)},move:function(n){var e={x:n.touches[0].x,y:n.touches[0].y};o.push(e),o.length>=2&&this.draw(o)},end:function(n){console.log("触摸结束"+n);for(var e=0;e<o.length;e++)o.pop()},cancel:function(n){},tap:function(n){},error:function(n){},draw:function(n){var e=n[0],t=n[1];n.shift(),c.moveTo(e.x,e.y),c.lineTo(t.x,t.y),c.stroke(),c.draw(!0)},clearClick:function(){c.clearRect(0,0,750,700),c.draw(!0)},saveClick:function(){this.linkToTransfer()},linkToTransfer:(0,a.debounce)((function(){var e=this;n.canvasToTempFilePath({canvasId:"sign",success:function(t){var a=t.tempFilePath;1==e.machine_acceptance?n.uploadFile({url:e.url+"usermachine/affirm/",filePath:a,name:"picture",header:{Authorization:"JWT "+n.getStorageSync("token")},success:function(e){200==e.statusCode&&(n.navigateBack({delta:1}),n.showToast({title:"已验收",icon:"none",duration:3e3}))}}):n.uploadFile({url:e.url+"cloudmachine/",filePath:a,name:"picture",header:{Authorization:"JWT "+n.getStorageSync("token")},success:function(e){200==e.statusCode&&(n.navigateBack({delta:1}),n.showToast({title:"已验收",icon:"none",duration:3e3}))}})}})}),1e3,!0)}};e.default=i}).call(this,t("543d")["default"])},9622:function(n,e,t){"use strict";var a=t("c5f0"),c=t.n(a);c.a},a2cd:function(n,e,t){"use strict";(function(n){t("5471");a(t("66fd"));var e=a(t("0b3a"));function a(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},afb9:function(n,e,t){"use strict";t.r(e);var a=t("79ad"),c=t.n(a);for(var o in a)"default"!==o&&function(n){t.d(e,n,(function(){return a[n]}))}(o);e["default"]=c.a},c5f0:function(n,e,t){}},[["a2cd","common/runtime","common/vendor"]]]);