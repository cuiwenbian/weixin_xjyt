(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["my/trade-password/trade-password"],{"032f":function(t,n,s){"use strict";s.r(n);var e=s("5af3"),o=s("041a");for(var i in o)"default"!==i&&function(t){s.d(n,t,(function(){return o[t]}))}(i);s("ad9c"),s("535a");var a,r=s("f0c5"),c=Object(r["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],a);n["default"]=c.exports},"041a":function(t,n,s){"use strict";s.r(n);var e=s("39ed"),o=s.n(e);for(var i in e)"default"!==i&&function(t){s.d(n,t,(function(){return e[t]}))}(i);n["default"]=o.a},"2c03":function(t,n,s){"use strict";(function(t){s("5471");e(s("66fd"));var n=e(s("032f"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,s("543d")["createPage"])},"39ed":function(t,n,s){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=s("45e3"),o=s("45e3"),i=120,a={data:function(){return{isPassword:!0,isPassword1:!0,email:"",email1:"",n:!0,code:"",cutdownIng:!1,cutDownTiemr:"",sendBtnText:"获取验证码",password:"",password1:"",shade:!1,isClick:!0}},onLoad:function(){var n=this;t.request({url:this.url+"delemails/",method:"GET",header:{Authorization:"JWT "+t.getStorageSync("token")},success:function(t){var s=t.data.data,e=t.data.data;n.email1=e;var o=s.split("@");s=o[0].substr(0,o[0].length-5)+"****@"+o[1],n.email=s}})},onBackPress:function(t){plus.key.hideSoftKeybord()},computed:{allowLogin:function(){return!!(this.password&&this.password1&&this.code)}},methods:{show:function(){this.isPassword=!this.isPassword},show1:function(){this.isPassword1=!this.isPassword1},next:function(){var t=this;t.n=!1},back:function(){var t=this;t.n=!0},getCodeValue:function(t){this.code=t.detail.value},getPassword:function(t){this.password=t.detail.value},getPassword1:function(t){this.password1=t.detail.value},checkPwd:function(n){this.password=n.detail.value;var s=o.checkPassword(this.password);if(!s)return t.showToast({title:"交易密码为6位数字",icon:"none",duration:2e3}),!1},getCode:function(){if(!this.cutdownIng){var n=this;t.request({method:"POST",data:{email:this.email1},url:this.url+"setemails/",header:{Authorization:"JWT "+t.getStorageSync("token")},success:function(t){var s=i;n.cutdownIng=!0,n.sendBtnText="".concat(s,"s"),n.cutDownTiemr=setInterval((function(){s--,n.sendBtnText="".concat(s,"s"),s<=0&&(clearInterval(n.cutDownTiemr),n.cutdownIng=!1,n.sendBtnText="重新获取",n.cutDownTiemr="")}),1e3)}})}},linkToTransfer:(0,e.debounce)((function(t){this.getCode()}),500,!0),getCodeNumber:function(t){this.linkToTransfer(t)},setPwd:function(){var n=this;if(""==this.code)return t.showToast({icon:"none",title:"请输入验证码",duration:2e3}),!1;if(""==this.password)return t.showToast({icon:"none",title:"请输入交易密码",duration:2e3}),!1;if(this.password&&this.password1&&this.password1!==this.password)return t.showToast({icon:"none",title:"两次密码不一致",duration:2e3}),!1;var s=o.checkPassword(this.password);return s?""==this.password1?(t.showToast({icon:"none",title:"请确认交易密码",duration:2e3}),!1):void(this.isClick&&(this.isClick=!1,t.request({url:this.url+"setmoneys/",method:"POST",data:{email:this.email1,email_msg:this.code,password:this.password,password1:this.password1},header:{Authorization:"JWT "+t.getStorageSync("token")},success:function(n){200==n.statusCode&&(t.showToast({title:"交易密码设置成功",icon:"none",duration:2e3}),t.navigateBack({delta:2})),400==n.statusCode&&t.showToast({title:"验证码错误",icon:"none",duration:2e3})},fail:function(t){n.isClick=!0},complete:function(t){n.isClick=!0}}))):(t.showToast({title:"交易密码为6位数字",icon:"none",duration:2e3}),!1)}}};n.default=a}).call(this,s("543d")["default"])},"535a":function(t,n,s){"use strict";var e=s("f1ca"),o=s.n(e);o.a},"5af3":function(t,n,s){"use strict";var e;s.d(n,"b",(function(){return o})),s.d(n,"c",(function(){return i})),s.d(n,"a",(function(){return e}));var o=function(){var t=this,n=t.$createElement;t._self._c},i=[]},ad9c:function(t,n,s){"use strict";var e=s("d6cc"),o=s.n(e);o.a},d6cc:function(t,n,s){},f1ca:function(t,n,s){}},[["2c03","common/runtime","common/vendor"]]]);