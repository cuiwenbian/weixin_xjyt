(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/getBackPassword/getBackPassword"],{"0b2b":function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement;t._self._c},s=[]},"0dc2":function(t,e,n){},2681:function(t,e,n){"use strict";n.r(e);var o=n("0b2b"),i=n("66e1");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("a0f0");var a,c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);e["default"]=u.exports},"55aa":function(t,e,n){"use strict";(function(t){n("5471");o(n("66fd"));var e=o(n("2681"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"66e1":function(t,e,n){"use strict";n.r(e);var o=n("a23d"),i=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},a0f0:function(t,e,n){"use strict";var o=n("0dc2"),i=n.n(o);i.a},a23d:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=60,i=120,s=n("45e3"),a={data:function(){return{phone_email:"",show:!1,code:"",phone_in:!1,cutdownIng:!1,cutDownTiemr:"",sendBtnText:"获取验证码",type:"",iten:!0,statusBarHeight:"",bottom:"",isTop:!1}},onLoad:function(e){var n=this;t.getSystemInfo({success:function(t){n.statusBarHeight=t.statusBarHeight+"px"}})},computed:{allowNext:function(){return!!this.phone_email},allowCode:function(){return!!this.code}},components:{},onBackPress:function(t){plus.key.hideSoftKeybord()},methods:{verifyResult:function(t){this.show=!0,this.getCodeBtn()},verifyFasong:function(){this.$refs.verifyElement.show()},verifyReset:function(){this.$refs.verifyElement.reset()},cancel:function(){this.show=!1,clearInterval(this.cutDownTiemr),this.cutdownIng=!1,this.sendBtnText="获取验证码",this.cutDownTiemr=""},back_page:function(){t.navigateBack({delta:1})},code_in:function(t){""!=t.detail.value?this.iten=!1:this.iten=!0},phone_in_input:function(){var e=this;this.phone_in=!0,this.isTop=!0,t.onKeyboardHeightChange((function(t){e.bottom=t.height+"px"}))},clear_p:function(){this.phone_email="",this.phone_in=!1},next:function(){var e=s.checkEmail(this.phone_email),n=/^(16[0-9]|14[0-9]|13[0-9]|15[0-9]|17[0-9]|18[0-9]|19[0-9])\d{8}$$/,o=this;if(!this.phone_email)return t.showToast({title:"请输入邮箱或手机号",icon:"none",duration:2e3}),!1;n.test(this.phone_email)||e?t.request({url:this.url+"checkuser/",method:"POST",data:{mobile:this.phone_email},header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(e){200==e.statusCode?t.showToast({title:"用户不存在",icon:"none",duration:3e3}):401==e.statusCode?(o.show=!0,o.getCodeBtn()):400==e.statusCode&&t.showToast({title:"参数错误",icon:"none",duration:3e3})}}):t.showToast({title:"请输入正确邮箱或手机号",icon:"none",duration:2e3})},getCodeBtn:function(){var e=s.checkEmail(this.phone_email),n=/^(16[0-9]|14[0-9]|13[0-9]|15[0-9]|17[0-9]|18[0-9]|19[0-9])\d{8}$$/,a=this;a.cutdownIng||(n.test(this.phone_email)?(a.type=1,t.request({method:"POST",data:{mobile:a.phone_email},url:a.url+"users/forgot/sms/",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(e){var n=e.statusCode;if(200==n){var i=o;a.cutdownIng=!0,a.sendBtnText="".concat(i,"s"),a.cutDownTiemr=setInterval((function(){i--,a.sendBtnText="".concat(i,"s"),i<=0&&(clearInterval(a.cutDownTiemr),a.cutdownIng=!1,a.sendBtnText="重新获取",a.cutDownTiemr="")}),1e3)}else 400==n&&t.showToast({title:"发送太频繁，请稍后",icon:"none",duration:3e3})}})):e&&(a.type=2,t.request({method:"POST",data:{mobile:a.phone_email},url:a.url+"users/find/pwd/sms/",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(e){var n=e.statusCode;if(200==n){var o=i;a.cutdownIng=!0,a.sendBtnText="".concat(o,"s"),a.cutDownTiemr=setInterval((function(){o--,a.sendBtnText="".concat(o,"s"),o<=0&&(clearInterval(a.cutDownTiemr),a.cutdownIng=!1,a.sendBtnText="重新获取",a.cutDownTiemr="")}),1e3)}else 400==n&&t.showToast({title:"发送太频繁，请稍后",icon:"none",duration:3e3})}})))},sure:function(){var e=this;if(!e.code)return t.showToast({title:"请输入验证码",icon:"none",duration:3e3}),!1;t.request({url:this.url+"check/code/",method:"POST",data:{mobile:e.phone_email,code:e.code},headers:{"Content-Type":"application/json"},success:function(n){if(401==n.statusCode)return t.showToast({title:"验证码错误",icon:"none",duration:3e3}),!1;200==n.statusCode&&t.navigateTo({url:"../reset_password/reset_password?phone_email="+e.phone_email+"&code="+e.code+"&type="+e.type})}})}}};e.default=a}).call(this,n("543d")["default"])}},[["55aa","common/runtime","common/vendor"]]]);